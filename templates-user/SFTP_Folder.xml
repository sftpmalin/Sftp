<?xml version="1.0"?>
<Container version="2">

  <Name>SFTP_Folder</Name>
  <Repository>sftpmalin/sftp:latest</Repository>
  <Registry>https://hub.docker.com/r/sftpmalin/sftp</Registry>
  <Network>bridge</Network>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>

  <!-- Liens utiles -->
  <Support>https://github.com/sftpmalin/Media-Remote-Convert</Support>
  <Project>https://github.com/sftpmalin/Media-Remote-Convert</Project>

  <Overview>
SFTP Folder permet de créer un serveur SFTP multi-utilisateur avec des dossiers séparés pour chaque utilisateur.
Gestion automatique des clés SSH, configuration persistante, permissions Linux appliquées automatiquement, et simplicité maximale.
Parfait pour isoler chaque utilisateur sur son propre dossier.
  </Overview>

  <Icon>https://raw.githubusercontent.com/sftpmalin/Media-Remote-Convert/main/logo/SFTP.png</Icon>

  <!-- Lien vers ce fichier XML brut -->
  <TemplateURL>https://raw.githubusercontent.com/sftpmalin/Media-Remote-Convert/main/templates-user/SFTP_Folder.xml</TemplateURL>

  <!-- Ports -->
  <Config Name="SFTP / SSH" Target="22" Default="60023" Mode="tcp" Type="Port" Display="always">60023</Config>

  <!-- Variables -->
  <Config Name="TZ" Target="TZ" Default="Europe/Paris" Type="Variable" Display="always">Europe/Paris</Config>

  <Config Name="PUID" Target="PUID" Default="99"
          Description="Unraid: nobody=99"
          Type="Variable" Display="always">99</Config>

  <Config Name="PGID" Target="PGID" Default="100"
          Description="Unraid: users=100"
          Type="Variable" Display="always">100</Config>

  <!-- Clés SSH -->
  <Config Name="Clé SSH" Target="KEY_VAR" Default="3072"
          Description="Valeurs possibles : 4096 / 3072 / 2048 / ed25519"
          Type="Variable" Display="always">3072</Config>


  <!-- ======================================================= -->
  <!--                 VARIABLES UTILISATEURS                  -->
  <!-- ======================================================= -->

  <Config Name="Utilisateur 1" Target="USERS_VAR1" Default="user1:0000:1000:100"
          Description="Format : username:password:UID:GID"
          Type="Variable" Display="always">user1:0000:1000:100</Config>

  <Config Name="Utilisateur 2" Target="USERS_VAR2" Default="user2:0000:1001:100"
          Description="Format : username:password:UID:GID"
          Type="Variable" Display="always">user2:0000:1001:100</Config>

  <Config Name="Utilisateur 3" Target="USERS_VAR3" Default="user3:0000:1002:100"
          Description="Format : username:password:UID:GID"
          Type="Variable" Display="always">user3:0000:1002:100</Config>

  <Config Name="Utilisateur 4" Target="USERS_VAR4" Default="user4:0000:1003:100"
          Description="Format : username:password:UID:GID"
          Type="Variable" Display="always">user4:0000:1003:100</Config>

  <Config Name="Utilisateur 5" Target="USERS_VAR5" Default="user5:0000:1004:100"
          Description="Format : username:password:UID:GID"
          Type="Variable" Display="always">user5:0000:1004:100</Config>

  <Config Name="Utilisateur 6" Target="USERS_VAR6" Default="user6:0000:1005:100"
          Description="Format : username:password:UID:GID"
          Type="Variable" Display="always">user6:0000:1005:100</Config>


  <!-- Dossiers -->
  <Config Name="Données & Configuration" Target="/data" 
          Default="/mnt/user/appdata/sftpfolders/" 
          Type="Path" Mode="rw" Display="always">/mnt/user/appdata/sftpfolders/</Config>

  <Config Name="User1 Data" Target="/home/user1/Data" 
          Default="/mnt/user1/" 
          Type="Path" Mode="rw" Display="always">/mnt/user1/</Config>

  <Config Name="User2 Data" Target="/home/user2/Data" 
          Default="/mnt/user2/" 
          Type="Path" Mode="rw" Display="always">/mnt/user2/</Config>

  <TailscaleStateDir/>
</Container>
